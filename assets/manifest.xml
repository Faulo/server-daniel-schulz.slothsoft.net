<?xml version="1.0"?>
<assets xmlns="http://schema.slothsoft.net/farah/module">
	<resource-directory name="css" type="text/css" />
	<resource-directory name="xsl"
		type="application/xslt+xml" />

	<resource-directory name="dictionary"
		type="application/xml" />

	<directory name="sitemap">
		<resource use="template" name="template"
			type="application/xslt+xml" />
		<use-document ref="/api/build" name="builds" />
        <use-document ref="/downloads" name="downloads" />
        <use-document ref="/game-jam-index" name="game-jams" />
	</directory>

    <resource-directory name="downloads"
        path="downloads" type="*/*" />

    <resource name="game-jam-index"
        path="game-jams/index.xml" type="application/xml" />
        
    <resource-directory name="game-jam-games"
        path="game-jams" type="application/xhtml+xml" />

	<directory name="static">
		<resource-directory name="images" path="images"
			type="image/png" />
		<resource-directory name="videos" path="videos"
			type="video/*" />
		<resource-directory name="downloads"
			path="downloads" type="video/*" />

		<resource name="face" path="face.png" type="image/png" />
		<resource name="favicon" path="favicon.png" type="image/png" />
	</directory>

	<fragment name="pages">
		<fragment name="default">
			<import ref="/api/default" />
		</fragment>
		<fragment name="tetris">
			<import ref="/api/default" />
			<use-document ref="//slothsoft@tetris/game"
				name="content" />
		</fragment>
		<fragment name="build">
			<use-template ref="/xsl/_build" />
			<use-document ref="//slothsoft@farah/sites" name="sites" />
			<link-stylesheet ref="/css/layout" />
			<link-stylesheet ref="/css/fonts" />
			<use-document ref="/api/build" name="content" />
		</fragment>
	</fragment>

	<fragment name="api">
		<fragment name="default">
			<use-template ref="/xsl/_default" />
			<use-document ref="//slothsoft@farah/sites" name="sites" />
			<link-stylesheet ref="/css/layout" />
			<link-stylesheet ref="/css/fonts" />
			<use-document ref="/api/navi" name="navi" />
		</fragment>
		<fragment name="navi">
			<use-template ref="/xsl/navi" />
			<use-document ref="//slothsoft@farah/sites" name="sites" />
		</fragment>
		<fragment name="images">
			<use-template ref="/xsl/imageList" />
			<use-document ref="/static/images" name="images" />
		</fragment>
		<custom-asset name="build"
			executable-builder="Slothsoft\Server\DanielSchulz\Assets\BuildInfoBuilder"
			parameter-filter="Slothsoft\Server\DanielSchulz\Assets\BuildParameterFilter" />
	</fragment>
</assets>
